var SDFileModule=async function(fileBlob){var fileName,nameArr=fileBlob.name.split("."),fileExt;if("sdf"!==nameArr[nameArr.length-1].toLowerCase())return{error:"Input file was not of type .sdf"};var readFileBlob=function(fileBlob){return new Promise((function(resolve,reject){var fr=new FileReader;fr.onload=function(x){file=fr.result,resolve(file)},fr.readAsText(fileBlob)}))},parseMolData=function(molList){var molDictList=[];return molList.forEach((function(mol){var molLines=mol.replace("\n\n","\r\n").split("\r\n"),thisMolData="",molDataEndPast=!1,afterMol="";molLines.forEach((function(line){var decodedLine=line.replace("\0","")+"\r\n";molDataEndPast?afterMol+=decodedLine:thisMolData+=decodedLine,"M  END"==decodedLine.trim()&&(molDataEndPast=!0)}));var currentMolDict=convertSDDataToDict(afterMol);currentMolDict.molData=thisMolData,molDictList.push(currentMolDict)})),molDictList},getSdVal=function(key,sd){var re=RegExp("> +<\\s*"+key.replace("(","\\(").replace("?","\\?").replace(")","\\)").replace("*","\\*")+"\\s*>.*?\\r\\n(.*?)\\r\\n"),matches=sd.match(re);return null!=matches&&matches.length>0&&matches[1]},isKeyLine=function(line){var re=RegExp("^> +<(.*?)>.*$"),matches=line.match(re);return null!=matches&&matches.length>0&&matches[1]},convertSDDataToDict=function(sdData){var returnDict={},lines;return sdData.split("\n").forEach((function(line){var fieldName=isKeyLine(line.trim());if(fieldName){var val=getSdVal(fieldName.trim(),sdData);val=val.trim(),returnDict[fieldName.trim()]=val}})),returnDict},fileStr,molList=(await readFileBlob(fileBlob)).split("$$$$").map((function(x){return x.trim()})),molDictList;return molList.pop(),{molDictList:parseMolData(molList)}};
//# sourceMappingURL=sdFileModule.min.js.map